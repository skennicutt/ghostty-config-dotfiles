# tmux.conf (initial content created by bootstrap.sh)
# Feel free to edit this file; bootstrap.sh will not overwrite it once created.

# ----- Shell selection (Linux/Bazzite + macOS) -----
# On Linux, prefer linuxbrew zsh if it exists
if-shell 'uname | grep -q Linux && [ -x /home/linuxbrew/.linuxbrew/bin/zsh ]' \
  'set -g default-shell "/home/linuxbrew/.linuxbrew/bin/zsh"; set -g default-command "/home/linuxbrew/.linuxbrew/bin/zsh"'
# On macOS, prefer system zsh if it exists
if-shell 'uname | grep -q Darwin && [ -x /bin/zsh ]' \
  'set -g default-shell "/bin/zsh"; set -g default-command "/bin/zsh"'

# ----- Basic quality-of-life -----
set -g mouse on
setw -g mode-keys vi

# Vim-style pane navigation
bind -n C-h select-pane -L
bind -n C-j select-pane -D
bind -n C-k select-pane -U
bind -n C-l select-pane -R

# Pane resizing with Ctrl + arrows
bind -r C-Left  resize-pane -L 5
bind -r C-Right resize-pane -R 5
bind -r C-Up    resize-pane -U 2
bind -r C-Down  resize-pane -D 2

# Quick zoom toggle
bind-key z resize-pane -Z

# Close pane with prefix + x (default) or Shift-X (no confirm)
bind-key X kill-pane

# ----- TPM (Tmux Plugin Manager) -----
set -g @plugin 'tmux-plugins/tpm'

# Session persistence
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-continuum'

# Resurrect settings
set -g @resurrect-capture-pane-contents 'on'
set -g @resurrect-strategy-nvim 'session'

# Continuum settings (auto-save every 15 min, auto-restore on tmux start)
set -g @continuum-restore 'on'
set -g @continuum-save-interval '15'

# Initialize TPM (keep this line at the very bottom)
run '~/.tmux/plugins/tpm/tpm'
